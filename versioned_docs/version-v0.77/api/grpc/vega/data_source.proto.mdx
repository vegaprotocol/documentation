---
title: data_source.proto
hide_title: true
---

import { ProtoMessage, ProtoServiceMethod, ProtoEnum } from '@theme/ProtoFile';

# `data_source.proto`
_**path** vega/data_source.proto_

_**package** vega_



---

## Messages


### `DataSourceDefinition`
<ProtoMessage key={0} message={{"name":"DataSourceDefinition","longName":"DataSourceDefinition","fullName":"vega.DataSourceDefinition","description":"Represents the top level object that handles data sources.\nData source definition can be external or internal, with whatever\nnumber of data sources are defined for each type in the child objects below.","hasExtensions":false,"hasFields":true,"hasOneofs":true,"extensions":[],"fields":[{"name":"internal","description":"","label":"","type":"DataSourceDefinitionInternal","longType":"DataSourceDefinitionInternal","fullType":"vega.DataSourceDefinitionInternal","ismap":false,"isoneof":true,"oneofdecl":"source_type","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/data_source.proto#datasourcedefinitioninternal"},{"name":"external","description":"","label":"","type":"DataSourceDefinitionExternal","longType":"DataSourceDefinitionExternal","fullType":"vega.DataSourceDefinitionExternal","ismap":false,"isoneof":true,"oneofdecl":"source_type","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/data_source.proto#datasourcedefinitionexternal"}]}} />


### `DataSourceDefinitionExternal`
<ProtoMessage key={1} message={{"name":"DataSourceDefinitionExternal","longName":"DataSourceDefinitionExternal","fullName":"vega.DataSourceDefinitionExternal","description":"DataSourceDefinitionExternal is the top level object used for all external\ndata sources. It contains one of any of the defined `SourceType` variants.","hasExtensions":false,"hasFields":true,"hasOneofs":true,"extensions":[],"fields":[{"name":"oracle","description":"","label":"","type":"DataSourceSpecConfiguration","longType":"DataSourceSpecConfiguration","fullType":"vega.DataSourceSpecConfiguration","ismap":false,"isoneof":true,"oneofdecl":"source_type","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/data_source.proto#datasourcespecconfiguration"},{"name":"eth_oracle","description":"Contains the data specification that is received from Ethereum sources.","label":"","type":"EthCallSpec","longType":"EthCallSpec","fullType":"vega.EthCallSpec","ismap":false,"isoneof":true,"oneofdecl":"source_type","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/data_source.proto#ethcallspec"}]}} />


### `DataSourceDefinitionInternal`
<ProtoMessage key={2} message={{"name":"DataSourceDefinitionInternal","longName":"DataSourceDefinitionInternal","fullName":"vega.DataSourceDefinitionInternal","description":"Top level object used for all internal data sources.\nIt contains one of any of the defined source type variants.","hasExtensions":false,"hasFields":true,"hasOneofs":true,"extensions":[],"fields":[{"name":"time","description":"","label":"","type":"DataSourceSpecConfigurationTime","longType":"DataSourceSpecConfigurationTime","fullType":"vega.DataSourceSpecConfigurationTime","ismap":false,"isoneof":true,"oneofdecl":"source_type","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/data_source.proto#datasourcespecconfigurationtime"},{"name":"time_trigger","description":"","label":"","type":"DataSourceSpecConfigurationTimeTrigger","longType":"DataSourceSpecConfigurationTimeTrigger","fullType":"vega.DataSourceSpecConfigurationTimeTrigger","ismap":false,"isoneof":true,"oneofdecl":"source_type","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/data_source.proto#datasourcespecconfigurationtimetrigger"}]}} />


### `DataSourceSpec`
<ProtoMessage key={3} message={{"name":"DataSourceSpec","longName":"DataSourceSpec","fullName":"vega.DataSourceSpec","description":"Data source spec describes the data source base that a product or a risk\nmodel wants to get from the data source engine. This message contains\nadditional information used by the API.","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"id","description":"Hash generated from the DataSpec data.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"created_at","description":"Creation date and time","label":"","type":"int64","longType":"int64","fullType":"int64","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"updated_at","description":"Last Updated timestamp","label":"","type":"int64","longType":"int64","fullType":"int64","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"data","description":"","label":"","type":"DataSourceDefinition","longType":"DataSourceDefinition","fullType":"vega.DataSourceDefinition","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/data_source.proto#datasourcedefinition"},{"name":"status","description":"Status describes the status of the data source spec","label":"","type":"Status","longType":"DataSourceSpec.Status","fullType":"vega.DataSourceSpec.Status","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/data_source.proto#datasourcespecstatus"}]}} />


### `DataSourceSpecConfiguration`
<ProtoMessage key={4} message={{"name":"DataSourceSpecConfiguration","longName":"DataSourceSpecConfiguration","fullName":"vega.DataSourceSpecConfiguration","description":"All types of external data sources use the same configuration set for meeting\nrequirements in order for the data to be useful for Vega - valid signatures\nand matching filters.","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"signers","description":"Signers is the list of authorized signatures that signed the data for this\nsource. All the signatures in the data source data should be contained in\nthis external source. All the signatures in the data should be contained in\nthis list.","label":"repeated","type":"Signer","longType":"data.v1.Signer","fullType":"vega.data.v1.Signer","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/data/v1/data.proto#signer"},{"name":"filters","description":"Filters describes which source data are considered of interest or not for\nthe product (or the risk model).","label":"repeated","type":"Filter","longType":"data.v1.Filter","fullType":"vega.data.v1.Filter","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/data/v1/spec.proto#filter"}]}} />


### `DataSourceSpecConfigurationTime`
<ProtoMessage key={5} message={{"name":"DataSourceSpecConfigurationTime","longName":"DataSourceSpecConfigurationTime","fullName":"vega.DataSourceSpecConfigurationTime","description":"Internal data source used for emitting timestamps.","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"conditions","description":"Conditions that the timestamps should meet in order to be considered.","label":"repeated","type":"Condition","longType":"data.v1.Condition","fullType":"vega.data.v1.Condition","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/data/v1/spec.proto#condition"}]}} />


### `DataSourceSpecConfigurationTimeTrigger`
<ProtoMessage key={6} message={{"name":"DataSourceSpecConfigurationTimeTrigger","longName":"DataSourceSpecConfigurationTimeTrigger","fullName":"vega.DataSourceSpecConfigurationTimeTrigger","description":"Internal data source used for emitting timestamps automatically using predefined intervals and conditions.","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"conditions","description":"Conditions that the timestamps need to meet in order to be considered.","label":"repeated","type":"Condition","longType":"data.v1.Condition","fullType":"vega.data.v1.Condition","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/data/v1/spec.proto#condition"},{"name":"triggers","description":"An internal time trigger","label":"repeated","type":"InternalTimeTrigger","longType":"data.v1.InternalTimeTrigger","fullType":"vega.data.v1.InternalTimeTrigger","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/data/v1/spec.proto#internaltimetrigger"}]}} />


### `EthCallSpec`
<ProtoMessage key={7} message={{"name":"EthCallSpec","longName":"EthCallSpec","fullName":"vega.EthCallSpec","description":"Specifies a data source that derives its content from calling a read method\non an Ethereum contract.","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"address","description":"Ethereum address of the contract to call.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"abi","description":"The ABI of that contract.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"method","description":"Name of the method on the contract to call.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"args","description":"List of arguments to pass to method call.\nProtobuf 'Value' wraps an arbitrary JSON type that is mapped to an Ethereum\ntype according to the ABI.","label":"repeated","type":"Value","longType":"google.protobuf.Value","fullType":"google.protobuf.Value","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"trigger","description":"Conditions for determining when to call the contract method.","label":"","type":"EthCallTrigger","longType":"EthCallTrigger","fullType":"vega.EthCallTrigger","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/data_source.proto#ethcalltrigger"},{"name":"required_confirmations","description":"Number of confirmations required before the query is considered verified","label":"","type":"uint64","longType":"uint64","fullType":"uint64","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"filters","description":"Filters the data returned from the contract method","label":"repeated","type":"Filter","longType":"data.v1.Filter","fullType":"vega.data.v1.Filter","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/data/v1/spec.proto#filter"},{"name":"normalisers","description":"Normalisers are used to convert the data returned from the contract method\ninto a standard format. The key of the map is the name of the property,\nwhich identifies the specific piece of data to other parts of the data\nsourcing framework, for example filters. The value is a JSONPath expression\nfor expressing where in the contract call result the required data is\nlocated, for example $[0] indicates the first result. $[1].price would look\nin the second result returned from the contract for a structure with a key\ncalled 'price' and use that if it exists.","label":"repeated","type":"Normaliser","longType":"Normaliser","fullType":"vega.Normaliser","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/data_source.proto#normaliser"},{"name":"source_chain_id","description":"The ID of the EVM based chain which is to be used to source the oracle data.","label":"","type":"uint64","longType":"uint64","fullType":"uint64","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""}]}} />


### `EthCallTrigger`
<ProtoMessage key={8} message={{"name":"EthCallTrigger","longName":"EthCallTrigger","fullName":"vega.EthCallTrigger","description":"Determines when the contract method should be called.","hasExtensions":false,"hasFields":true,"hasOneofs":true,"extensions":[],"fields":[{"name":"time_trigger","description":"","label":"","type":"EthTimeTrigger","longType":"EthTimeTrigger","fullType":"vega.EthTimeTrigger","ismap":false,"isoneof":true,"oneofdecl":"trigger","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/data_source.proto#ethtimetrigger"}]}} />


### `EthTimeTrigger`
<ProtoMessage key={9} message={{"name":"EthTimeTrigger","longName":"EthTimeTrigger","fullName":"vega.EthTimeTrigger","description":"Trigger for an Ethereum call based on the Ethereum block timestamp. Can be\none-off or repeating.","hasExtensions":false,"hasFields":true,"hasOneofs":true,"extensions":[],"fields":[{"name":"initial","description":"Trigger when the Ethereum time is greater or equal to this time, in Unix\nseconds.","label":"optional","type":"uint64","longType":"uint64","fullType":"uint64","ismap":false,"isoneof":true,"oneofdecl":"_initial","defaultValue":""},{"name":"every","description":"Repeat the call every n seconds after the initial call. If no time for\ninitial call was specified, begin repeating immediately.","label":"optional","type":"uint64","longType":"uint64","fullType":"uint64","ismap":false,"isoneof":true,"oneofdecl":"_every","defaultValue":""},{"name":"until","description":"If repeating, stop once Ethereum time is greater than this time, in Unix\nseconds. If not set, then repeat indefinitely.","label":"optional","type":"uint64","longType":"uint64","fullType":"uint64","ismap":false,"isoneof":true,"oneofdecl":"_until","defaultValue":""}]}} />


### `ExternalDataSourceSpec`
<ProtoMessage key={10} message={{"name":"ExternalDataSourceSpec","longName":"ExternalDataSourceSpec","fullName":"vega.ExternalDataSourceSpec","description":"","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"spec","description":"","label":"","type":"DataSourceSpec","longType":"DataSourceSpec","fullType":"vega.DataSourceSpec","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/data_source.proto#datasourcespec"}]}} />


### `Normaliser`
<ProtoMessage key={11} message={{"name":"Normaliser","longName":"Normaliser","fullName":"vega.Normaliser","description":"","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"name","description":"","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"expression","description":"","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""}]}} />


### `SpecBindingForCompositePrice`
<ProtoMessage key={12} message={{"name":"SpecBindingForCompositePrice","longName":"SpecBindingForCompositePrice","fullName":"vega.SpecBindingForCompositePrice","description":"Describes which property of the data source data is to be\nused for price source.","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"price_source_property","description":"The property name of price.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""}]}} />

---
## Enums


### `DataSourceSpec.Status`
<ProtoEnum key={0} enumb={{"name":"Status","longName":"DataSourceSpec.Status","fullName":"vega.DataSourceSpec.Status","description":"Status describe the status of the data source spec","values":[{"name":"STATUS_UNSPECIFIED","number":"0","description":"Default value."},{"name":"STATUS_ACTIVE","number":"1","description":"STATUS_ACTIVE describes an active data source spec."},{"name":"STATUS_DEACTIVATED","number":"2","description":"STATUS_DEACTIVATED describes a data source spec that is not listening to\ndata anymore."}]}} />

---


  