---
title: validator_commands.proto
hide_title: true
---

import { ProtoMessage, ProtoServiceMethod, ProtoEnum } from '@theme/ProtoFile';

# `validator_commands.proto`
_**path** vega/commands/v1/validator_commands.proto_

_**package** vega.commands.v1_



---

## Messages


### `AnnounceNode`
<ProtoMessage key={0} message={{"name":"AnnounceNode","longName":"AnnounceNode","fullName":"vega.commands.v1.AnnounceNode","description":"A command that allows a new node operator to announce themselves to the network as a new validator.","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"vega_pub_key","description":"Vega public key of the node being announced.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"ethereum_address","description":"Ethereum public key of the node being announced.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"chain_pub_key","description":"Public key for the blockchain, currently the node's CometBFT key.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"info_url","description":"URL to the node operators homepage allowing stake holders to make an informed decision when delegating.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"country","description":"Country code (ISO 3166-1 alpha-2) for the location of the node.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"id","description":"Node ID of the validator, which is the node's public master key.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"name","description":"Human-readable name of the node.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"avatar_url","description":"URL to the node operator's avatar.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"vega_pub_key_index","description":"Vega public key derivation index.","label":"","type":"uint32","longType":"uint32","fullType":"uint32","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"from_epoch","description":"Epoch from which the node is expected to be ready to validate blocks.","label":"","type":"uint64","longType":"uint64","fullType":"uint64","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"ethereum_signature","description":"Signature from the node made using the ethereum wallet.","label":"","type":"Signature","longType":"Signature","fullType":"vega.commands.v1.Signature","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/signature.proto#signature"},{"name":"vega_signature","description":"Signature from the node made using the Vega wallet.","label":"","type":"Signature","longType":"Signature","fullType":"vega.commands.v1.Signature","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/signature.proto#signature"},{"name":"submitter_address","description":"Ethereum public key to use as a submitter to allow automatic signature generation.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""}]}} />


### `ChainEvent`
<ProtoMessage key={1} message={{"name":"ChainEvent","longName":"ChainEvent","fullName":"vega.commands.v1.ChainEvent","description":"A validator command sent automatically that provides information of events that have happened on foreign chains.","hasExtensions":false,"hasFields":true,"hasOneofs":true,"extensions":[],"fields":[{"name":"tx_id","description":"ID of the transaction on the foreign chain that caused the event.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"nonce","description":"Arbitrary one-time integer used to prevent replay attacks.","label":"","type":"uint64","longType":"uint64","fullType":"uint64","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"builtin","description":"Built-in asset event.","label":"","type":"BuiltinAssetEvent","longType":"vega.BuiltinAssetEvent","fullType":"vega.BuiltinAssetEvent","ismap":false,"isoneof":true,"oneofdecl":"event","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/chain_events.proto#builtinassetevent"},{"name":"erc20","description":"Ethereum ERC20 event.","label":"","type":"ERC20Event","longType":"vega.ERC20Event","fullType":"vega.ERC20Event","ismap":false,"isoneof":true,"oneofdecl":"event","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/chain_events.proto#erc20event"},{"name":"staking_event","description":"Ethereum Staking event.","label":"","type":"StakingEvent","longType":"vega.StakingEvent","fullType":"vega.StakingEvent","ismap":false,"isoneof":true,"oneofdecl":"event","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/chain_events.proto#stakingevent"},{"name":"erc20_multisig","description":"Ethereum ERC20 multisig event.","label":"","type":"ERC20MultiSigEvent","longType":"vega.ERC20MultiSigEvent","fullType":"vega.ERC20MultiSigEvent","ismap":false,"isoneof":true,"oneofdecl":"event","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/chain_events.proto#erc20multisigevent"},{"name":"contract_call","description":"Ethereum contract call event.","label":"","type":"EthContractCallEvent","longType":"vega.EthContractCallEvent","fullType":"vega.EthContractCallEvent","ismap":false,"isoneof":true,"oneofdecl":"event","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/chain_events.proto#ethcontractcallevent"}]}} />


### `EthereumKeyRotateSubmission`
<ProtoMessage key={2} message={{"name":"EthereumKeyRotateSubmission","longName":"EthereumKeyRotateSubmission","fullName":"vega.commands.v1.EthereumKeyRotateSubmission","description":"A validator command sent manually that allows a node operator to indicate to the network that their node's Ethereum key will be rotated.","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"target_block","description":"Block height at which the key rotation will take effect.","label":"","type":"uint64","longType":"uint64","fullType":"uint64","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"new_address","description":"Ethereum address that is being rotated to.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"current_address","description":"Ethereum address of the node's current Ethereum keys.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"submitter_address","description":"Ethereum public key to use as a submitter to allow automatic signature generation.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"ethereum_signature","description":"Signature signed by the new Ethereum key that can be verified to prove ownership.","label":"","type":"Signature","longType":"Signature","fullType":"vega.commands.v1.Signature","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/signature.proto#signature"}]}} />


### `KeyRotateSubmission`
<ProtoMessage key={3} message={{"name":"KeyRotateSubmission","longName":"KeyRotateSubmission","fullName":"vega.commands.v1.KeyRotateSubmission","description":"A validator command sent manually that allows a node operator to indicate to the network that their node's Vega key will be rotated.","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"new_pub_key_index","description":"New Vega public key derivation index.","label":"","type":"uint32","longType":"uint32","fullType":"uint32","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"target_block","description":"Block height at which the key rotation will take effect.","label":"","type":"uint64","longType":"uint64","fullType":"uint64","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"new_pub_key","description":"Vega public key that would be rotated to.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"current_pub_key_hash","description":"Hash of the node's current Vega public key.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""}]}} />


### `NodeSignature`
<ProtoMessage key={4} message={{"name":"NodeSignature","longName":"NodeSignature","fullName":"vega.commands.v1.NodeSignature","description":"A validator command sent automatically containing a signature that can be used on a foreign chain to process an action.","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"id","description":"ID of the resource that the signature relates to.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"sig","description":"Signature generated by the node.","label":"","type":"bytes","longType":"bytes","fullType":"bytes","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"kind","description":"Kind of resource being signed.","label":"","type":"NodeSignatureKind","longType":"NodeSignatureKind","fullType":"vega.commands.v1.NodeSignatureKind","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/validator_commands.proto#nodesignaturekind"}]}} />


### `NodeVote`
<ProtoMessage key={5} message={{"name":"NodeVote","longName":"NodeVote","fullName":"vega.commands.v1.NodeVote","description":"A validator command which is sent automatically by a node when it has verified a resource external to the network.","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"reference","description":"Reference identifying the resource that has been verified.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"type","description":"Type of external event that has been verified.","label":"","type":"Type","longType":"NodeVote.Type","fullType":"vega.commands.v1.NodeVote.Type","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/validator_commands.proto#nodevotetype"}]}} />


### `ProtocolUpgradeProposal`
<ProtoMessage key={6} message={{"name":"ProtocolUpgradeProposal","longName":"ProtocolUpgradeProposal","fullName":"vega.commands.v1.ProtocolUpgradeProposal","description":"A validator command sent manually by a node operator to propose a protocol upgrade.","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"upgrade_block_height","description":"Block height at which to perform the upgrade.","label":"","type":"uint64","longType":"uint64","fullType":"uint64","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"vega_release_tag","description":"Release tag for the Vega binary.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""}]}} />


### `StateVariableProposal`
<ProtoMessage key={7} message={{"name":"StateVariableProposal","longName":"StateVariableProposal","fullName":"vega.commands.v1.StateVariableProposal","description":"A validator command sent automatically to reach consensus on floating point values.","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"proposal","description":"Details of the state variable being proposed.","label":"","type":"StateValueProposal","longType":"vega.StateValueProposal","fullType":"vega.StateValueProposal","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/vega.proto#statevalueproposal"}]}} />


### `ValidatorHeartbeat`
<ProtoMessage key={8} message={{"name":"ValidatorHeartbeat","longName":"ValidatorHeartbeat","fullName":"vega.commands.v1.ValidatorHeartbeat","description":"A validator command which is sent automatically at regular intervals by any validator participating in the network.\nIt is used to allow the network to know whether a validator is active, or if they have shut down.","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"node_id","description":"Node ID of the validator emitting the heartbeat.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"ethereum_signature","description":"Signature from the validator made using their Ethereum wallet.","label":"","type":"Signature","longType":"Signature","fullType":"vega.commands.v1.Signature","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/signature.proto#signature"},{"name":"vega_signature","description":"Signature from the validator made using their Vega wallet.","label":"","type":"Signature","longType":"Signature","fullType":"vega.commands.v1.Signature","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/signature.proto#signature"},{"name":"message","description":"Message which has been signed.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""}]}} />

---
## Enums


### `NodeSignatureKind`
<ProtoEnum key={0} enumb={{"name":"NodeSignatureKind","longName":"NodeSignatureKind","fullName":"vega.commands.v1.NodeSignatureKind","description":"Kind of signature created by a node, for example, allow-listing a new asset, withdrawal etc","values":[{"name":"NODE_SIGNATURE_KIND_UNSPECIFIED","number":"0","description":"Represents an unspecified or missing value from the input."},{"name":"NODE_SIGNATURE_KIND_ASSET_NEW","number":"1","description":"Represents a signature for a new asset allow-listing."},{"name":"NODE_SIGNATURE_KIND_ASSET_WITHDRAWAL","number":"2","description":"Represents a signature for an asset withdrawal."},{"name":"NODE_SIGNATURE_KIND_ERC20_MULTISIG_SIGNER_ADDED","number":"3","description":"Represents a signature for a new signer added to the erc20 multisig contract."},{"name":"NODE_SIGNATURE_KIND_ERC20_MULTISIG_SIGNER_REMOVED","number":"4","description":"Represents a signature for a signer removed from the erc20 multisig contract."},{"name":"NODE_SIGNATURE_KIND_ASSET_UPDATE","number":"5","description":"Represents a signature for an asset update allow-listing."}]}} />


### `NodeVote.Type`
<ProtoEnum key={1} enumb={{"name":"Type","longName":"NodeVote.Type","fullName":"vega.commands.v1.NodeVote.Type","description":"","values":[{"name":"TYPE_UNSPECIFIED","number":"0","description":"Represents an unspecified or missing value from the input"},{"name":"TYPE_STAKE_DEPOSITED","number":"1","description":"Node vote for a new stake deposit"},{"name":"TYPE_STAKE_REMOVED","number":"2","description":"Node vote for a new stake removed event"},{"name":"TYPE_FUNDS_DEPOSITED","number":"3","description":"Node vote for a new collateral deposit"},{"name":"TYPE_SIGNER_ADDED","number":"4","description":"Node vote for a new signer added to the erc20 bridge"},{"name":"TYPE_SIGNER_REMOVED","number":"5","description":"Node vote for a signer removed from the erc20 bridge"},{"name":"TYPE_BRIDGE_STOPPED","number":"6","description":"Node vote for a bridge stopped event"},{"name":"TYPE_BRIDGE_RESUMED","number":"7","description":"Node vote for a bridge resumed event"},{"name":"TYPE_ASSET_LISTED","number":"8","description":"Node vote for a newly listed asset"},{"name":"TYPE_LIMITS_UPDATED","number":"9","description":"Node vote for an asset limits update"},{"name":"TYPE_STAKE_TOTAL_SUPPLY","number":"10","description":"Node vote to share the total supply of the staking token"},{"name":"TYPE_SIGNER_THRESHOLD_SET","number":"11","description":"Node vote to update the threshold of the signer set for the multisig contract"},{"name":"TYPE_GOVERNANCE_VALIDATE_ASSET","number":"12","description":"Node vote to validate a new assert governance proposal"},{"name":"TYPE_ETHEREUM_CONTRACT_CALL_RESULT","number":"13","description":"Node vote for an Ethereum contract call result"}]}} />

---


  