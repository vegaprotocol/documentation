---
title: transaction.proto
hide_title: true
---

import { ProtoMessage, ProtoServiceMethod, ProtoEnum } from '@theme/ProtoFile';

# `transaction.proto`
_**path** vega/commands/v1/transaction.proto_

_**package** vega.commands.v1_



---

## Messages


### `InputData`
<ProtoMessage key={0} message={{"name":"InputData","longName":"InputData","fullName":"vega.commands.v1.InputData","description":"Input data for a transaction containing a network command for the Vega network to execute.\nOnce populated the protobuf message should be marshalled into a byte array and included in a transaction message.","hasExtensions":false,"hasFields":true,"hasOneofs":true,"extensions":[],"fields":[{"name":"nonce","description":"Arbitrary number used to provide uniqueness to the signature of two otherwise identical input data, preventing replay attacks.\nMust be set to a different value for all new transactions sent by a party. It is advised to generate this number randomly.","label":"","type":"uint64","longType":"uint64","fullType":"uint64","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"block_height","description":"Block height which has been used to calculate the transaction proof-of-work.","label":"","type":"uint64","longType":"uint64","fullType":"uint64","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"order_submission","description":"Command to submit an order.","label":"","type":"OrderSubmission","longType":"OrderSubmission","fullType":"vega.commands.v1.OrderSubmission","ismap":false,"isoneof":true,"oneofdecl":"command","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/commands.proto#ordersubmission"},{"name":"order_cancellation","description":"Command to cancel an order.","label":"","type":"OrderCancellation","longType":"OrderCancellation","fullType":"vega.commands.v1.OrderCancellation","ismap":false,"isoneof":true,"oneofdecl":"command","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/commands.proto#ordercancellation"},{"name":"order_amendment","description":"Command to amend an order.","label":"","type":"OrderAmendment","longType":"OrderAmendment","fullType":"vega.commands.v1.OrderAmendment","ismap":false,"isoneof":true,"oneofdecl":"command","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/commands.proto#orderamendment"},{"name":"withdraw_submission","description":"Command to submit a withdrawal.","label":"","type":"WithdrawSubmission","longType":"WithdrawSubmission","fullType":"vega.commands.v1.WithdrawSubmission","ismap":false,"isoneof":true,"oneofdecl":"command","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/commands.proto#withdrawsubmission"},{"name":"proposal_submission","description":"Command to submit a governance proposal.","label":"","type":"ProposalSubmission","longType":"ProposalSubmission","fullType":"vega.commands.v1.ProposalSubmission","ismap":false,"isoneof":true,"oneofdecl":"command","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/commands.proto#proposalsubmission"},{"name":"vote_submission","description":"Command to submit a vote on a governance proposal.","label":"","type":"VoteSubmission","longType":"VoteSubmission","fullType":"vega.commands.v1.VoteSubmission","ismap":false,"isoneof":true,"oneofdecl":"command","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/commands.proto#votesubmission"},{"name":"liquidity_provision_submission","description":"Command to submit a liquidity commitment.","label":"","type":"LiquidityProvisionSubmission","longType":"LiquidityProvisionSubmission","fullType":"vega.commands.v1.LiquidityProvisionSubmission","ismap":false,"isoneof":true,"oneofdecl":"command","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/commands.proto#liquidityprovisionsubmission"},{"name":"delegate_submission","description":"Command to delegate tokens to a validator.","label":"","type":"DelegateSubmission","longType":"DelegateSubmission","fullType":"vega.commands.v1.DelegateSubmission","ismap":false,"isoneof":true,"oneofdecl":"command","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/commands.proto#delegatesubmission"},{"name":"undelegate_submission","description":"Command to remove tokens delegated to a validator.","label":"","type":"UndelegateSubmission","longType":"UndelegateSubmission","fullType":"vega.commands.v1.UndelegateSubmission","ismap":false,"isoneof":true,"oneofdecl":"command","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/commands.proto#undelegatesubmission"},{"name":"liquidity_provision_cancellation","description":"Command to cancel a liquidity commitment.","label":"","type":"LiquidityProvisionCancellation","longType":"LiquidityProvisionCancellation","fullType":"vega.commands.v1.LiquidityProvisionCancellation","ismap":false,"isoneof":true,"oneofdecl":"command","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/commands.proto#liquidityprovisioncancellation"},{"name":"liquidity_provision_amendment","description":"Command to amend a liquidity commitment.","label":"","type":"LiquidityProvisionAmendment","longType":"LiquidityProvisionAmendment","fullType":"vega.commands.v1.LiquidityProvisionAmendment","ismap":false,"isoneof":true,"oneofdecl":"command","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/commands.proto#liquidityprovisionamendment"},{"name":"transfer","description":"Command to submit a transfer.","label":"","type":"Transfer","longType":"Transfer","fullType":"vega.commands.v1.Transfer","ismap":false,"isoneof":true,"oneofdecl":"command","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/commands.proto#transfer"},{"name":"cancel_transfer","description":"Command to cancel a recurring transfer.","label":"","type":"CancelTransfer","longType":"CancelTransfer","fullType":"vega.commands.v1.CancelTransfer","ismap":false,"isoneof":true,"oneofdecl":"command","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/commands.proto#canceltransfer"},{"name":"announce_node","description":"Command used by a node operator to announce its node as a pending validator.","label":"","type":"AnnounceNode","longType":"AnnounceNode","fullType":"vega.commands.v1.AnnounceNode","ismap":false,"isoneof":true,"oneofdecl":"command","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/validator_commands.proto#announcenode"},{"name":"batch_market_instructions","description":"Command to submit a batch of order instructions.","label":"","type":"BatchMarketInstructions","longType":"BatchMarketInstructions","fullType":"vega.commands.v1.BatchMarketInstructions","ismap":false,"isoneof":true,"oneofdecl":"command","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/commands.proto#batchmarketinstructions"},{"name":"stop_orders_submission","description":"Command to submit a pair of stop orders.","label":"","type":"StopOrdersSubmission","longType":"StopOrdersSubmission","fullType":"vega.commands.v1.StopOrdersSubmission","ismap":false,"isoneof":true,"oneofdecl":"command","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/commands.proto#stoporderssubmission"},{"name":"stop_orders_cancellation","description":"Command to cancel stop orders.","label":"","type":"StopOrdersCancellation","longType":"StopOrdersCancellation","fullType":"vega.commands.v1.StopOrdersCancellation","ismap":false,"isoneof":true,"oneofdecl":"command","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/commands.proto#stoporderscancellation"},{"name":"create_referral_set","description":"Command to create a referral set.","label":"","type":"CreateReferralSet","longType":"CreateReferralSet","fullType":"vega.commands.v1.CreateReferralSet","ismap":false,"isoneof":true,"oneofdecl":"command","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/commands.proto#createreferralset"},{"name":"update_referral_set","description":"Command to update a referral set.","label":"","type":"UpdateReferralSet","longType":"UpdateReferralSet","fullType":"vega.commands.v1.UpdateReferralSet","ismap":false,"isoneof":true,"oneofdecl":"command","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/commands.proto#updatereferralset"},{"name":"apply_referral_code","description":"Command to apply a referral code.","label":"","type":"ApplyReferralCode","longType":"ApplyReferralCode","fullType":"vega.commands.v1.ApplyReferralCode","ismap":false,"isoneof":true,"oneofdecl":"command","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/commands.proto#applyreferralcode"},{"name":"update_margin_mode","description":"Command to update the margin mode of a party in a market.","label":"","type":"UpdateMarginMode","longType":"UpdateMarginMode","fullType":"vega.commands.v1.UpdateMarginMode","ismap":false,"isoneof":true,"oneofdecl":"command","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/commands.proto#updatemarginmode"},{"name":"join_team","description":"Command to join a team.","label":"","type":"JoinTeam","longType":"JoinTeam","fullType":"vega.commands.v1.JoinTeam","ismap":false,"isoneof":true,"oneofdecl":"command","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/commands.proto#jointeam"},{"name":"batch_proposal_submission","description":"Command to submit a batch governance proposal.","label":"","type":"BatchProposalSubmission","longType":"BatchProposalSubmission","fullType":"vega.commands.v1.BatchProposalSubmission","ismap":false,"isoneof":true,"oneofdecl":"command","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/commands.proto#batchproposalsubmission"},{"name":"update_party_profile","description":"Command to update a party's profile.","label":"","type":"UpdatePartyProfile","longType":"UpdatePartyProfile","fullType":"vega.commands.v1.UpdatePartyProfile","ismap":false,"isoneof":true,"oneofdecl":"command","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/commands.proto#updatepartyprofile"},{"name":"node_vote","description":"Validator command sent automatically to vote on that validity of an external resource.","label":"","type":"NodeVote","longType":"NodeVote","fullType":"vega.commands.v1.NodeVote","ismap":false,"isoneof":true,"oneofdecl":"command","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/validator_commands.proto#nodevote"},{"name":"node_signature","description":"Validator command sent automatically to provide signatures for the Ethereum bridge.","label":"","type":"NodeSignature","longType":"NodeSignature","fullType":"vega.commands.v1.NodeSignature","ismap":false,"isoneof":true,"oneofdecl":"command","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/validator_commands.proto#nodesignature"},{"name":"chain_event","description":"Validator command sent automatically to notify the Vega chain of an off-chain event.","label":"","type":"ChainEvent","longType":"ChainEvent","fullType":"vega.commands.v1.ChainEvent","ismap":false,"isoneof":true,"oneofdecl":"command","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/validator_commands.proto#chainevent"},{"name":"key_rotate_submission","description":"Validator command sent manually by a node operator to rotate their node's Vega keys.","label":"","type":"KeyRotateSubmission","longType":"KeyRotateSubmission","fullType":"vega.commands.v1.KeyRotateSubmission","ismap":false,"isoneof":true,"oneofdecl":"command","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/validator_commands.proto#keyrotatesubmission"},{"name":"state_variable_proposal","description":"Validator command sent automatically to reach consensus on floating point values.","label":"","type":"StateVariableProposal","longType":"StateVariableProposal","fullType":"vega.commands.v1.StateVariableProposal","ismap":false,"isoneof":true,"oneofdecl":"command","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/validator_commands.proto#statevariableproposal"},{"name":"validator_heartbeat","description":"Validator command sent automatically to signal regular participation in the network.","label":"","type":"ValidatorHeartbeat","longType":"ValidatorHeartbeat","fullType":"vega.commands.v1.ValidatorHeartbeat","ismap":false,"isoneof":true,"oneofdecl":"command","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/validator_commands.proto#validatorheartbeat"},{"name":"ethereum_key_rotate_submission","description":"Validator command sent manually by a node operator to rotate their node's Ethereum keys.","label":"","type":"EthereumKeyRotateSubmission","longType":"EthereumKeyRotateSubmission","fullType":"vega.commands.v1.EthereumKeyRotateSubmission","ismap":false,"isoneof":true,"oneofdecl":"command","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/validator_commands.proto#ethereumkeyrotatesubmission"},{"name":"protocol_upgrade_proposal","description":"Validator command sent manually to propose a protocol upgrade.","label":"","type":"ProtocolUpgradeProposal","longType":"ProtocolUpgradeProposal","fullType":"vega.commands.v1.ProtocolUpgradeProposal","ismap":false,"isoneof":true,"oneofdecl":"command","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/validator_commands.proto#protocolupgradeproposal"},{"name":"issue_signatures","description":"Command to request signatures to amend the multisig-control contract.","label":"","type":"IssueSignatures","longType":"IssueSignatures","fullType":"vega.commands.v1.IssueSignatures","ismap":false,"isoneof":true,"oneofdecl":"command","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/commands.proto#issuesignatures"},{"name":"oracle_data_submission","description":"Command to submit external oracle data.","label":"","type":"OracleDataSubmission","longType":"OracleDataSubmission","fullType":"vega.commands.v1.OracleDataSubmission","ismap":false,"isoneof":true,"oneofdecl":"command","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/data.proto#oracledatasubmission"}]}} />


### `ProofOfWork`
<ProtoMessage key={1} message={{"name":"ProofOfWork","longName":"ProofOfWork","fullName":"vega.commands.v1.ProofOfWork","description":"Components needed for the network to verify proof-of-work.","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"tid","description":"Unique transaction identifier used to seed the proof-of-work hash.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"nonce","description":"Number which, combined with the transaction identifier, will produce a hash with the required number of leading zeros to be accepted by the network.","label":"","type":"uint64","longType":"uint64","fullType":"uint64","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""}]}} />


### `Transaction`
<ProtoMessage key={2} message={{"name":"Transaction","longName":"Transaction","fullName":"vega.commands.v1.Transaction","description":"Transaction containing a command that can be sent to instruct the network to execute an action.\nA transaction contains a byte string representation of the input data which must then be signed, with the signature added to the transaction.","hasExtensions":false,"hasFields":true,"hasOneofs":true,"extensions":[],"fields":[{"name":"input_data","description":"Protobuf message of type `InputData` marshalled into bytes. If the transaction version is V3 or higher then this bytes\nstring must be prepended with `chain_id_as_byes + \\0`.","label":"","type":"bytes","longType":"bytes","fullType":"bytes","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"signature","description":"Signature of the input data field, signed by the sender of this transaction.","label":"","type":"Signature","longType":"Signature","fullType":"vega.commands.v1.Signature","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/signature.proto#signature"},{"name":"address","description":"Hex-encoded address of the sender. Not supported yet.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":true,"oneofdecl":"from","defaultValue":""},{"name":"pub_key","description":"Hex-encoded public key of the sender.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":true,"oneofdecl":"from","defaultValue":""},{"name":"version","description":"Version of the transaction.","label":"","type":"TxVersion","longType":"TxVersion","fullType":"vega.commands.v1.TxVersion","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/transaction.proto#txversion"},{"name":"pow","description":"Proof-of-work containing the random transaction ID used by the client and the nonce.","label":"","type":"ProofOfWork","longType":"ProofOfWork","fullType":"vega.commands.v1.ProofOfWork","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/transaction.proto#proofofwork"}]}} />

---
## Enums


### `TxVersion`
<ProtoEnum key={0} enumb={{"name":"TxVersion","longName":"TxVersion","fullName":"vega.commands.v1.TxVersion","description":"Transaction versions to maintain backwards compatibility of transaction formats.","values":[{"name":"TX_VERSION_UNSPECIFIED","number":"0","description":"Transaction version is unspecified."},{"name":"TX_VERSION_V2","number":"2","description":"Transaction requires the addition of a proof-of-work calculation."},{"name":"TX_VERSION_V3","number":"3","description":"Transaction input data contains a prepended chain ID to prevent use of a single transaction across multiple networks."}]}} />

---


  