---
title: commands.proto
hide_title: true
---

import { ProtoMessage, ProtoServiceMethod, ProtoEnum } from '@theme/ProtoFile';

# `commands.proto`
_**path** vega/commands/v1/commands.proto_

_**package** vega.commands.v1_



---

## Messages


### `ApplyReferralCode`
<ProtoMessage key={0} message={{"name":"ApplyReferralCode","longName":"ApplyReferralCode","fullName":"vega.commands.v1.ApplyReferralCode","description":"Command that allows the submitter to join a referral set and earn a collective reduction in fees based on the activity of all members of that set.\nA party that joins a referral set is called a referee. A referee can only be a member of one referral set and cannot themselves be or become a referrer.\nTo switch to another referral set, a subsequent command can be sent and the switch will take effect at the end of the epoch.","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"id","description":"Referral code, normally the referral set ID, for the party to join.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""}]}} />


### `BatchMarketInstructions`
<ProtoMessage key={1} message={{"name":"BatchMarketInstructions","longName":"BatchMarketInstructions","fullName":"vega.commands.v1.BatchMarketInstructions","description":"A command that allows the submission of a batch market instruction which wraps up multiple market instructions into a single transaction.\nThese instructions are then processed sequentially in the following order:\n- OrderCancellation\n- OrderAmendment\n- OrderSubmission\n- StopOrderSubmission\nwhere the maximum allow of instructions in a batch is controlled by the network parameter \"spam.protection.max.batchSize\".","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"cancellations","description":"List of order cancellations to be processed sequentially.","label":"repeated","type":"OrderCancellation","longType":"OrderCancellation","fullType":"vega.commands.v1.OrderCancellation","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/commands.proto#ordercancellation"},{"name":"amendments","description":"List of order amendments to be processed sequentially.","label":"repeated","type":"OrderAmendment","longType":"OrderAmendment","fullType":"vega.commands.v1.OrderAmendment","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/commands.proto#orderamendment"},{"name":"submissions","description":"List of order submissions to be processed sequentially.","label":"repeated","type":"OrderSubmission","longType":"OrderSubmission","fullType":"vega.commands.v1.OrderSubmission","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/commands.proto#ordersubmission"},{"name":"stop_orders_cancellation","description":"List of stop order cancellations to be processed sequentially.","label":"repeated","type":"StopOrdersCancellation","longType":"StopOrdersCancellation","fullType":"vega.commands.v1.StopOrdersCancellation","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/commands.proto#stoporderscancellation"},{"name":"stop_orders_submission","description":"List of stop order submissions to be processed sequentially.","label":"repeated","type":"StopOrdersSubmission","longType":"StopOrdersSubmission","fullType":"vega.commands.v1.StopOrdersSubmission","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/commands.proto#stoporderssubmission"},{"name":"update_margin_mode","description":"Update margin mode instruction","label":"repeated","type":"UpdateMarginMode","longType":"UpdateMarginMode","fullType":"vega.commands.v1.UpdateMarginMode","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/commands.proto#updatemarginmode"}]}} />


### `BatchProposalSubmission`
<ProtoMessage key={2} message={{"name":"BatchProposalSubmission","longName":"BatchProposalSubmission","fullName":"vega.commands.v1.BatchProposalSubmission","description":"Command that allows a token holder to submit a batch governance proposal that can be voted on by any other token holders, and eventually enacted on the Vega network.\nFor example this command can be used to propose a new market and a network parameter change with it.","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"reference","description":"Arbitrary human-readable reference identifying the proposal.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"terms","description":"Proposal terms containing the type and details of the proposal, as well as time spans for voting and enactment.","label":"","type":"BatchProposalSubmissionTerms","longType":"BatchProposalSubmissionTerms","fullType":"vega.commands.v1.BatchProposalSubmissionTerms","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/commands.proto#batchproposalsubmissionterms"},{"name":"rationale","description":"Rationale behind a proposal.","label":"","type":"ProposalRationale","longType":"vega.ProposalRationale","fullType":"vega.ProposalRationale","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/governance.proto#proposalrationale"}]}} />


### `BatchProposalSubmissionTerms`
<ProtoMessage key={3} message={{"name":"BatchProposalSubmissionTerms","longName":"BatchProposalSubmissionTerms","fullName":"vega.commands.v1.BatchProposalSubmissionTerms","description":"Terms for a batch governance proposal submission","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"closing_timestamp","description":"Closing timestamp in Unix time; adheres to `minClose` and `maxClose` limits.","label":"","type":"int64","longType":"int64","fullType":"int64","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"changes","description":"List of individual changes included in the batch proposal.","label":"repeated","type":"BatchProposalTermsChange","longType":"vega.BatchProposalTermsChange","fullType":"vega.BatchProposalTermsChange","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/governance.proto#batchproposaltermschange"}]}} />


### `CancelTransfer`
<ProtoMessage key={4} message={{"name":"CancelTransfer","longName":"CancelTransfer","fullName":"vega.commands.v1.CancelTransfer","description":"Command that can be used by the party that initiated a transfer to instruct the network to stop an active recurring transaction.","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"transfer_id","description":"Transfer ID of the transfer to cancel.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""}]}} />


### `CreateReferralSet`
<ProtoMessage key={5} message={{"name":"CreateReferralSet","longName":"CreateReferralSet","fullName":"vega.commands.v1.CreateReferralSet","description":"Command that a party can use to instruct the network to create a new referral set on the network.\nThe submitter of this command will become the referrer of the new set and cannot be the referrer or a referee of another set.\nA referrer can use the referral set ID as a referral code to attract others to the Vega network and have fees reduced for the referral set.","hasExtensions":false,"hasFields":true,"hasOneofs":true,"extensions":[],"fields":[{"name":"is_team","description":"Whether or not the referral set should be considered a team that can participate in team games on the network.","label":"","type":"bool","longType":"bool","fullType":"bool","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"team","description":"Team details, if the referral set is to be considered a team.","label":"optional","type":"Team","longType":"CreateReferralSet.Team","fullType":"vega.commands.v1.CreateReferralSet.Team","ismap":false,"isoneof":true,"oneofdecl":"_team","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/commands.proto#createreferralsetteam"}]}} />


### `CreateReferralSet.Team`
<ProtoMessage key={6} message={{"name":"Team","longName":"CreateReferralSet.Team","fullName":"vega.commands.v1.CreateReferralSet.Team","description":"","hasExtensions":false,"hasFields":true,"hasOneofs":true,"extensions":[],"fields":[{"name":"name","description":"Name of the team.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"team_url","description":"External link to the team's homepage.","label":"optional","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":true,"oneofdecl":"_team_url","defaultValue":""},{"name":"avatar_url","description":"External link to an avatar for the team.","label":"optional","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":true,"oneofdecl":"_avatar_url","defaultValue":""},{"name":"closed","description":"Whether or not the team is closed to new party members.","label":"","type":"bool","longType":"bool","fullType":"bool","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"allow_list","description":"List of public keys that are allowed to join the team.\nOnly applicable to closed teams. Removing a party from the allow list does not remove\nthe party from the team.","label":"repeated","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""}]}} />


### `DelegateSubmission`
<ProtoMessage key={7} message={{"name":"DelegateSubmission","longName":"DelegateSubmission","fullName":"vega.commands.v1.DelegateSubmission","description":"Command to allow a token holder to delegate their tokens to a validator to help secure the network.\nA token holder delegating to a validator will earn rewards based on the amount they have delegated, and the performance of the chosen validator.","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"node_id","description":"Node ID to delegate stake to.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"amount","description":"Amount of stake to delegate, as an unsigned integer scaled to the governance asset's decimal places.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""}]}} />


### `IcebergOpts`
<ProtoMessage key={8} message={{"name":"IcebergOpts","longName":"IcebergOpts","fullName":"vega.commands.v1.IcebergOpts","description":"Iceberg order options","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"peak_size","description":"Size of the order that is made visible and can be traded with during the execution of a single order.","label":"","type":"uint64","longType":"uint64","fullType":"uint64","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"minimum_visible_size","description":"Minimum allowed remaining size of the order before it is replenished back to its peak size.","label":"","type":"uint64","longType":"uint64","fullType":"uint64","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""}]}} />


### `IssueSignatures`
<ProtoMessage key={9} message={{"name":"IssueSignatures","longName":"IssueSignatures","fullName":"vega.commands.v1.IssueSignatures","description":"Command that can be used by a validator to instruct the network to generate signatures to add or remove validators from the multisig-control contract.\nSignatures can only be generated for validator nodes that have been promoted or demoted from the consensus validator set, and any attempt to generate signatures for another node will be rejected.\nThe generated signatures can only be submitted to the contract by the Ethereum addresses included in the command.","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"submitter","description":"Ethereum address which will submit the signatures to the smart contract.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"kind","description":"What kind of signatures to generate, namely for whether a signer is being added or removed.","label":"","type":"NodeSignatureKind","longType":"NodeSignatureKind","fullType":"vega.commands.v1.NodeSignatureKind","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/validator_commands.proto#nodesignaturekind"},{"name":"validator_node_id","description":"Node ID of the validator node that will be signed in or out of the smart contract.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""}]}} />


### `JoinTeam`
<ProtoMessage key={10} message={{"name":"JoinTeam","longName":"JoinTeam","fullName":"vega.commands.v1.JoinTeam","description":"Command that allows the submitter to join a team or change teams if they are already a member of a team.","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"id","description":"ID of the team to join, this is the same as the referral code used to generate the team.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""}]}} />


### `LiquidityProvisionAmendment`
<ProtoMessage key={11} message={{"name":"LiquidityProvisionAmendment","longName":"LiquidityProvisionAmendment","fullName":"vega.commands.v1.LiquidityProvisionAmendment","description":"Command that allows a liquidity provider to update the details of their existing liquidity commitment.\nAny field that is left unset or as a default value indicates that this field on the original submission will be left unchanged.","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"market_id","description":"Market that the submitter wants to amend the liquidity commitment for.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"commitment_amount","description":"New commitment amount.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"fee","description":"New nominated liquidity fee factor.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"reference","description":"New arbitrary reference to be added to every order created out of this liquidity provision submission.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""}]}} />


### `LiquidityProvisionCancellation`
<ProtoMessage key={12} message={{"name":"LiquidityProvisionCancellation","longName":"LiquidityProvisionCancellation","fullName":"vega.commands.v1.LiquidityProvisionCancellation","description":"Command that allows a liquidity provider to inform the network that they will stop providing liquidity for a market.","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"market_id","description":"Market that the submitter will stop providing liquidity for.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""}]}} />


### `LiquidityProvisionSubmission`
<ProtoMessage key={13} message={{"name":"LiquidityProvisionSubmission","longName":"LiquidityProvisionSubmission","fullName":"vega.commands.v1.LiquidityProvisionSubmission","description":"A command that indicates to the network the party's intention to supply liquidity to the given market and become a liquidity provider.\nAn active liquidity provider for a market will earn fees based on the trades that occur in the market.","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"market_id","description":"Market that the submitter wishes to provide liquidity for.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"commitment_amount","description":"Amount that the submitter will commit as liquidity to the market, specified as a unitless number in the settlement asset of the market.\nThis field is an unsigned integer scaled using the asset's decimal places.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"fee","description":"Nominated liquidity fee factor, which is an input to the calculation of taker fees on the market, as per setting fees and rewarding liquidity providers.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"reference","description":"Arbitrary reference to be added to every order created out of this liquidity provision submission.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""}]}} />


### `OneOffTransfer`
<ProtoMessage key={14} message={{"name":"OneOffTransfer","longName":"OneOffTransfer","fullName":"vega.commands.v1.OneOffTransfer","description":"Details for a one-off transfer.","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"deliver_on","description":"Timestamp, in Unix nanoseconds, for when the transfer should be executed, i.e., assets transferred into the receiver's account.","label":"","type":"int64","longType":"int64","fullType":"int64","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""}]}} />


### `OrderAmendment`
<ProtoMessage key={15} message={{"name":"OrderAmendment","longName":"OrderAmendment","fullName":"vega.commands.v1.OrderAmendment","description":"A command that allows a party to update the details of an existing order.\nAny field that is left unset or as a default value indicates that this field on the original order will be left unchanged.\nIt is not possible to change an order's type through this command.","hasExtensions":false,"hasFields":true,"hasOneofs":true,"extensions":[],"fields":[{"name":"order_id","description":"ID of the order to amend.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"market_id","description":"Market ID that the order was originally submitted to.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"price","description":"New price for the order. This field is an unsigned integer scaled to the market's decimal places.","label":"optional","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":true,"oneofdecl":"_price","defaultValue":""},{"name":"size_delta","description":"Amend the size for the order by the delta specified:\n- To reduce the size from the current value set a negative integer value\n- To increase the size from the current value, set a positive integer value\n- To leave the size unchanged set a value of zero\nThis field needs to be scaled using the market's position decimal places.\nIf specified, size must not be set.","label":"","type":"int64","longType":"int64","fullType":"int64","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"expires_at","description":"Timestamp, in Unix nanoseconds, for the new expiry time for the order.","label":"optional","type":"int64","longType":"int64","fullType":"int64","ismap":false,"isoneof":true,"oneofdecl":"_expires_at","defaultValue":""},{"name":"time_in_force","description":"New time in force for the order.","label":"","type":"TimeInForce","longType":"vega.Order.TimeInForce","fullType":"vega.Order.TimeInForce","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/vega.proto#ordertimeinforce"},{"name":"pegged_offset","description":"New pegged offset for the order.\nThis field is an unsigned integer scaled to the market's decimal places.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"pegged_reference","description":"New pegged reference for the order.","label":"","type":"PeggedReference","longType":"vega.PeggedReference","fullType":"vega.PeggedReference","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/vega.proto#peggedreference"},{"name":"size","description":"New size for the order.\nAmending the size causes the size and remaining part of the order to be changed by the difference between the original and amended size.\n- Specifying a size smaller than the current size leaves the order at its current order book position.\n- Specifying a size larger than the current size removes and reinserts the order at the back of the price level.\n- Specifying a size that results in the remaining part of the order being reduced to zero cancels the order.\nThis field is an unsigned integer scaled to the market's decimal places.\nIf specified, size_delta must be set to 0.","label":"optional","type":"uint64","longType":"uint64","fullType":"uint64","ismap":false,"isoneof":true,"oneofdecl":"_size","defaultValue":""}]}} />


### `OrderCancellation`
<ProtoMessage key={16} message={{"name":"OrderCancellation","longName":"OrderCancellation","fullName":"vega.commands.v1.OrderCancellation","description":"A command that instructs the network to cancel orders, active or partially filled, that were previously submitted by the sender of this transaction.\nIt is not possible to cancel another party's order with this command.","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"order_id","description":"Restrict cancellations to an order with the given ID. If set, then a market ID must also be provided.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"market_id","description":"Restrict cancellations to those submitted to the given market. If not set, all stop orders across all markets will be cancelled.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""}]}} />


### `OrderSubmission`
<ProtoMessage key={17} message={{"name":"OrderSubmission","longName":"OrderSubmission","fullName":"vega.commands.v1.OrderSubmission","description":"A command that submits an order to the Vega network for a given market.","hasExtensions":false,"hasFields":true,"hasOneofs":true,"extensions":[],"fields":[{"name":"market_id","description":"Market ID to submit the order to.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"price","description":"Price for the order, the price is an integer, for example `123456` is a correctly\nformatted price of `1.23456` assuming market configured to 5 decimal places,\nrequired field for limit orders, however it is not required for market orders.\nThis field is an unsigned integer scaled to the market's decimal places.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"size","description":"Size for the order, for example, in a futures market the size equals the number of units.","label":"","type":"uint64","longType":"uint64","fullType":"uint64","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"side","description":"Which side of the order book the order is for, e.g. buy or sell.","label":"","type":"Side","longType":"vega.Side","fullType":"vega.Side","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/vega.proto#side"},{"name":"time_in_force","description":"Time in force indicates how long an order will remain active before it is executed or expires..","label":"","type":"TimeInForce","longType":"vega.Order.TimeInForce","fullType":"vega.Order.TimeInForce","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/vega.proto#ordertimeinforce"},{"name":"expires_at","description":"Timestamp, in Unix nanoseconds, for when the order will expire. Can only be set when the order's time-in-force is GTT.","label":"","type":"int64","longType":"int64","fullType":"int64","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"type","description":"Type of the order.","label":"","type":"Type","longType":"vega.Order.Type","fullType":"vega.Order.Type","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/vega.proto#ordertype"},{"name":"reference","description":"Arbitrary optional reference for the order, to be used as a human-readable non-unique identifier for the order.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"pegged_order","description":"Pegged order details. If set, the order's price will be offset from a particular reference price of the order book at all times.","label":"","type":"PeggedOrder","longType":"vega.PeggedOrder","fullType":"vega.PeggedOrder","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/vega.proto#peggedorder"},{"name":"post_only","description":"If set, the order will only be executed if it would not trade on entry to the order book. Only valid for limit orders.","label":"","type":"bool","longType":"bool","fullType":"bool","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"reduce_only","description":"If set, the order will only be executed if the outcome of the trade moves the trader's position closer to 0.\nOnly valid for non-persistent orders.","label":"","type":"bool","longType":"bool","fullType":"bool","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"iceberg_opts","description":"Iceberg order details. If set, the order will exist on the order book in chunks.","label":"optional","type":"IcebergOpts","longType":"IcebergOpts","fullType":"vega.commands.v1.IcebergOpts","ismap":false,"isoneof":true,"oneofdecl":"_iceberg_opts","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/commands.proto#icebergopts"}]}} />


### `ProposalSubmission`
<ProtoMessage key={18} message={{"name":"ProposalSubmission","longName":"ProposalSubmission","fullName":"vega.commands.v1.ProposalSubmission","description":"Command that allows a token holder to submit a governance proposal that can be voted on by any other token holders, and eventually enacted on the Vega network.\nFor example this command can be used to propose a new market.","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"reference","description":"Arbitrary human-readable reference identifying the proposal.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"terms","description":"Proposal terms containing the type and details of the proposal, as well as time spans for voting and enactment.","label":"","type":"ProposalTerms","longType":"vega.ProposalTerms","fullType":"vega.ProposalTerms","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/governance.proto#proposalterms"},{"name":"rationale","description":"Rationale behind a proposal.","label":"","type":"ProposalRationale","longType":"vega.ProposalRationale","fullType":"vega.ProposalRationale","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/governance.proto#proposalrationale"}]}} />


### `RecurringTransfer`
<ProtoMessage key={19} message={{"name":"RecurringTransfer","longName":"RecurringTransfer","fullName":"vega.commands.v1.RecurringTransfer","description":"Details for a recurring transfer","hasExtensions":false,"hasFields":true,"hasOneofs":true,"extensions":[],"fields":[{"name":"start_epoch","description":"First epoch from which this transfer shall be executed.","label":"","type":"uint64","longType":"uint64","fullType":"uint64","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"end_epoch","description":"Last epoch at which this transfer shall be executed.","label":"optional","type":"uint64","longType":"uint64","fullType":"uint64","ismap":false,"isoneof":true,"oneofdecl":"_end_epoch","defaultValue":""},{"name":"factor","description":"Factor that the initial transfer amount is multiplied by for each epoch that it is executed.\nFor example if the initial transfer amount is 1000 and the factor is 0.5, then the amounts transferred per epoch will be 1000, 500, 250, 125, etc.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"dispatch_strategy","description":"Optional parameter defining how a transfer is dispatched.","label":"","type":"DispatchStrategy","longType":"vega.DispatchStrategy","fullType":"vega.DispatchStrategy","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/vega.proto#dispatchstrategy"}]}} />


### `StopOrderSetup`
<ProtoMessage key={20} message={{"name":"StopOrderSetup","longName":"StopOrderSetup","fullName":"vega.commands.v1.StopOrderSetup","description":"Price and expiry configuration for a stop order.","hasExtensions":false,"hasFields":true,"hasOneofs":true,"extensions":[],"fields":[{"name":"order_submission","description":"Order to be submitted once the trigger is breached.","label":"","type":"OrderSubmission","longType":"OrderSubmission","fullType":"vega.commands.v1.OrderSubmission","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/commands.proto#ordersubmission"},{"name":"expires_at","description":"Timestamp, in Unix nanoseconds, for when the stop order should expire. If not set the stop order will not expire.","label":"optional","type":"int64","longType":"int64","fullType":"int64","ismap":false,"isoneof":true,"oneofdecl":"_expires_at","defaultValue":""},{"name":"expiry_strategy","description":"Strategy to adopt if the expiry time is reached.","label":"optional","type":"ExpiryStrategy","longType":"vega.StopOrder.ExpiryStrategy","fullType":"vega.StopOrder.ExpiryStrategy","ismap":false,"isoneof":true,"oneofdecl":"_expiry_strategy","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/vega.proto#stoporderexpirystrategy"},{"name":"size_override_setting","description":"Indicates if this order is linked to an order or position to derive the order size","label":"optional","type":"SizeOverrideSetting","longType":"vega.StopOrder.SizeOverrideSetting","fullType":"vega.StopOrder.SizeOverrideSetting","ismap":false,"isoneof":true,"oneofdecl":"_size_override_setting","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/vega.proto#stopordersizeoverridesetting"},{"name":"size_override_value","description":"If this order is linked to a position, provide an optional scaling factor","label":"optional","type":"SizeOverrideValue","longType":"vega.StopOrder.SizeOverrideValue","fullType":"vega.StopOrder.SizeOverrideValue","ismap":false,"isoneof":true,"oneofdecl":"_size_override_value","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/vega.proto#stopordersizeoverridevalue"},{"name":"price","description":"Order will be submitted if the last traded price on the market breaches the given price.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":true,"oneofdecl":"trigger","defaultValue":""},{"name":"trailing_percent_offset","description":"Order will be submitted if the last traded price has moved the given percent from the highest/lowest mark price since the stop order was submitted.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":true,"oneofdecl":"trigger","defaultValue":""}]}} />


### `StopOrdersCancellation`
<ProtoMessage key={21} message={{"name":"StopOrdersCancellation","longName":"StopOrdersCancellation","fullName":"vega.commands.v1.StopOrdersCancellation","description":"A command that instructs the network to cancel untriggered stop orders that were submitted by the sender of this transaction.\nIf any cancelled stop order is part of an OCO, both stop orders will be cancelled.\nIt is not possible to cancel another party's stop orders with this command.","hasExtensions":false,"hasFields":true,"hasOneofs":true,"extensions":[],"fields":[{"name":"market_id","description":"Restrict cancellations to those submitted to the given market. If not set, all stop orders across all markets will be cancelled.","label":"optional","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":true,"oneofdecl":"_market_id","defaultValue":""},{"name":"stop_order_id","description":"Restrict cancellations to a stop order with the given ID. If set, then a market ID must also be provided.","label":"optional","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":true,"oneofdecl":"_stop_order_id","defaultValue":""}]}} />


### `StopOrdersSubmission`
<ProtoMessage key={22} message={{"name":"StopOrdersSubmission","longName":"StopOrdersSubmission","fullName":"vega.commands.v1.StopOrdersSubmission","description":"A command that allows a party to submit a stop order for a given market.\nA stop order is a normal order that remains off the order book and is only submitted if a given trigger is breached from a particular direction.\nIf both rises-above and falls-below are configured, then if one is triggered the other will be cancelled (OCO).","hasExtensions":false,"hasFields":true,"hasOneofs":true,"extensions":[],"fields":[{"name":"rises_above","description":"Stop order that will be triggered if the price rises above a given trigger price.","label":"optional","type":"StopOrderSetup","longType":"StopOrderSetup","fullType":"vega.commands.v1.StopOrderSetup","ismap":false,"isoneof":true,"oneofdecl":"_rises_above","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/commands.proto#stopordersetup"},{"name":"falls_below","description":"Stop order that will be triggered if the price falls below a given trigger price.","label":"optional","type":"StopOrderSetup","longType":"StopOrderSetup","fullType":"vega.commands.v1.StopOrderSetup","ismap":false,"isoneof":true,"oneofdecl":"_falls_below","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/commands.proto#stopordersetup"}]}} />


### `Transfer`
<ProtoMessage key={23} message={{"name":"Transfer","longName":"Transfer","fullName":"vega.commands.v1.Transfer","description":"Command that allows a party to move assets from one account to another.\nA transfer can be set up as a single one-off transfer, or a recurring transfer that occurs once at the start of each epoch.\nEach transfer incurs a fee as specified by the network parameter `transfer.fee.factor`","hasExtensions":false,"hasFields":true,"hasOneofs":true,"extensions":[],"fields":[{"name":"from_account_type","description":"Account type from which the funds of the party should be taken.","label":"","type":"AccountType","longType":"vega.AccountType","fullType":"vega.AccountType","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/vega.proto#accounttype"},{"name":"to","description":"Public key of the destination account.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"to_account_type","description":"Type of the destination account.","label":"","type":"AccountType","longType":"vega.AccountType","fullType":"vega.AccountType","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/vega.proto#accounttype"},{"name":"asset","description":"Asset ID of the asset to be transferred.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"amount","description":"Amount to be taken from the source account, as an unsigned integer scaled to the asset's decimal places.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"reference","description":"Reference to be attached to the transfer.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"one_off","description":"Details of a one-off transfer that is executed once at a specified time.","label":"","type":"OneOffTransfer","longType":"OneOffTransfer","fullType":"vega.commands.v1.OneOffTransfer","ismap":false,"isoneof":true,"oneofdecl":"kind","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/commands.proto#oneofftransfer"},{"name":"recurring","description":"Details of a transfer that is executed once every epoch until stopped.","label":"","type":"RecurringTransfer","longType":"RecurringTransfer","fullType":"vega.commands.v1.RecurringTransfer","ismap":false,"isoneof":true,"oneofdecl":"kind","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/commands.proto#recurringtransfer"}]}} />


### `UndelegateSubmission`
<ProtoMessage key={24} message={{"name":"UndelegateSubmission","longName":"UndelegateSubmission","fullName":"vega.commands.v1.UndelegateSubmission","description":"Command to allow a token holder to instruct the network to remove their delegated stake from a given validator node.","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"node_id","description":"Node ID to undelegate stake from.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"amount","description":"Amount to undelegate, as an unsigned integer scaled to the governance asset's decimal places.\nIf not set, then all delegations to the given validator node will be removed.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"method","description":"Method of delegation.","label":"","type":"Method","longType":"UndelegateSubmission.Method","fullType":"vega.commands.v1.UndelegateSubmission.Method","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/commands.proto#undelegatesubmissionmethod"}]}} />


### `UpdateMarginMode`
<ProtoMessage key={25} message={{"name":"UpdateMarginMode","longName":"UpdateMarginMode","fullName":"vega.commands.v1.UpdateMarginMode","description":"","hasExtensions":false,"hasFields":true,"hasOneofs":true,"extensions":[],"fields":[{"name":"market_id","description":"Market to change margin mode for.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"mode","description":"Margin mode to use.","label":"","type":"Mode","longType":"UpdateMarginMode.Mode","fullType":"vega.commands.v1.UpdateMarginMode.Mode","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/commands.proto#updatemarginmodemode"},{"name":"margin_factor","description":"Margin factor to use for margin in isolated mode. It is a multiplier that defines how much margin needs to be set aside","label":"optional","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":true,"oneofdecl":"_margin_factor","defaultValue":""}]}} />


### `UpdatePartyProfile`
<ProtoMessage key={26} message={{"name":"UpdatePartyProfile","longName":"UpdatePartyProfile","fullName":"vega.commands.v1.UpdatePartyProfile","description":"Command to associate metadata to a public key, known as a party ID.\nPartial update is not supported, meaning previous values must be included in\nthe update, otherwise they are removed.","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"alias","description":"Alias given to the party. It must be unique network-wide.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"metadata","description":"Freeform data to associate to the party.\nSupport a maximum of 10 entries.","label":"repeated","type":"Metadata","longType":"vega.Metadata","fullType":"vega.Metadata","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/vega.proto#metadata"}]}} />


### `UpdateReferralSet`
<ProtoMessage key={27} message={{"name":"UpdateReferralSet","longName":"UpdateReferralSet","fullName":"vega.commands.v1.UpdateReferralSet","description":"A command that allows the referrer of a referral set to update team details for a referral set.\nAny field that is left unset or has a default value indicates that this field on the original referral set will be left unchanged.","hasExtensions":false,"hasFields":true,"hasOneofs":true,"extensions":[],"fields":[{"name":"id","description":"ID of the referral set to update.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"is_team","description":"Whether or not the referral set should be considered a team that can participate in team games on the network.","label":"","type":"bool","longType":"bool","fullType":"bool","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"team","description":"Team details, if the referral set is to be considered a team.","label":"optional","type":"Team","longType":"UpdateReferralSet.Team","fullType":"vega.commands.v1.UpdateReferralSet.Team","ismap":false,"isoneof":true,"oneofdecl":"_team","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/commands/v1/commands.proto#updatereferralsetteam"}]}} />


### `UpdateReferralSet.Team`
<ProtoMessage key={28} message={{"name":"Team","longName":"UpdateReferralSet.Team","fullName":"vega.commands.v1.UpdateReferralSet.Team","description":"","hasExtensions":false,"hasFields":true,"hasOneofs":true,"extensions":[],"fields":[{"name":"name","description":"New name of the team.","label":"optional","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":true,"oneofdecl":"_name","defaultValue":""},{"name":"team_url","description":"New link to the team's homepage.","label":"optional","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":true,"oneofdecl":"_team_url","defaultValue":""},{"name":"avatar_url","description":"New link to an avatar for the team.","label":"optional","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":true,"oneofdecl":"_avatar_url","defaultValue":""},{"name":"closed","description":"Whether or not the team is closed to new party members. When closed, only parties specified in the allow list can\njoin the team.","label":"optional","type":"bool","longType":"bool","fullType":"bool","ismap":false,"isoneof":true,"oneofdecl":"_closed","defaultValue":""},{"name":"allow_list","description":"List of public keys that are allowed to join the team.\nOnly applicable to closed teams. Removing a party from the allow list does not remove\nthe party from the team.","label":"repeated","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""}]}} />


### `VoteSubmission`
<ProtoMessage key={29} message={{"name":"VoteSubmission","longName":"VoteSubmission","fullName":"vega.commands.v1.VoteSubmission","description":"Command that allows a token holder to vote for or against an active governance proposal.","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"proposal_id","description":"Submit vote for the specified proposal ID.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"value","description":"Actual value of the vote.","label":"","type":"Value","longType":"vega.Vote.Value","fullType":"vega.Vote.Value","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/governance.proto#votevalue"}]}} />


### `WithdrawSubmission`
<ProtoMessage key={30} message={{"name":"WithdrawSubmission","longName":"WithdrawSubmission","fullName":"vega.commands.v1.WithdrawSubmission","description":"Command to instruct the network to process an asset withdrawal from the Vega network.\nThe process is specific to the destination foreign chain, for example, a withdrawal to Ethereum will generate signatures\nthat allow funds to be taken across the bridge.","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"amount","description":"Amount to be withdrawn, as an unsigned integer scaled to the asset's decimal places.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"asset","description":"Asset to be withdrawn.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"ext","description":"Details specific to the foreign chain, such as the receiver address.","label":"","type":"WithdrawExt","longType":"vega.WithdrawExt","fullType":"vega.WithdrawExt","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/mainnet/api/grpc/vega/vega.proto#withdrawext"}]}} />

---
## Enums


### `UndelegateSubmission.Method`
<ProtoEnum key={0} enumb={{"name":"Method","longName":"UndelegateSubmission.Method","fullName":"vega.commands.v1.UndelegateSubmission.Method","description":"","values":[{"name":"METHOD_UNSPECIFIED","number":"0","description":""},{"name":"METHOD_NOW","number":"1","description":"Undelegate straight away, losing all rewards for the current epoch."},{"name":"METHOD_AT_END_OF_EPOCH","number":"2","description":"Undelegate at the end of an epoch, retaining all rewards for the current epoch."}]}} />


### `UpdateMarginMode.Mode`
<ProtoEnum key={1} enumb={{"name":"Mode","longName":"UpdateMarginMode.Mode","fullName":"vega.commands.v1.UpdateMarginMode.Mode","description":"","values":[{"name":"MODE_UNSPECIFIED","number":"0","description":"Never valid."},{"name":"MODE_CROSS_MARGIN","number":"1","description":"Cross margin mode - margin is dynamically acquired and released as a position is marked to market"},{"name":"MODE_ISOLATED_MARGIN","number":"2","description":"Isolated margin mode - margin for any newly opened position volume is transferred to the margin account when the trade is executed"}]}} />

---


  