---
title: commands.proto
hide_title: true
---

import { ProtoMessage, ProtoServiceMethod, ProtoEnum } from '@theme/ProtoFile';

## `commands.proto`
_**path** vega/commands/v1/commands.proto_

_**package** vega.commands.v1_



---

## Messages


### `DelegateSubmission`
<ProtoMessage key={0} message={{"name":"DelegateSubmission","longName":"DelegateSubmission","fullName":"vega.commands.v1.DelegateSubmission","description":"A command to submit an instruction to delegate some stake to a node","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"node_id","description":"The ID for the node to delegate to","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","options":{"validator.field":[{"name":"string_not_empty","value":true}]}},{"name":"amount","description":"The amount of stake to delegate","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""}]}} />


### `LiquidityProvisionSubmission`
<ProtoMessage key={1} message={{"name":"LiquidityProvisionSubmission","longName":"LiquidityProvisionSubmission","fullName":"vega.commands.v1.LiquidityProvisionSubmission","description":"A liquidity provision submitted for a given market","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"market_id","description":"Market identifier for the order, required field","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","options":{"validator.field":[{"name":"string_not_empty","value":true}]}},{"name":"commitment_amount","description":"Specified as a unitless number that represents the amount of settlement asset of the market","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"fee","description":"Nominated liquidity fee factor, which is an input to the calculation of taker fees on the market, as per seeting fees and rewarding liquidity providers","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"sells","description":"A set of liquidity sell orders to meet the liquidity provision obligation","label":"repeated","type":"LiquidityOrder","longType":"vega.LiquidityOrder","fullType":"vega.LiquidityOrder","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/vega/vega.proto#liquidityorder"},{"name":"buys","description":"A set of liquidity buy orders to meet the liquidity provision obligation","label":"repeated","type":"LiquidityOrder","longType":"vega.LiquidityOrder","fullType":"vega.LiquidityOrder","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/vega/vega.proto#liquidityorder"},{"name":"reference","description":"A reference to be added to every order created out of this liquidityProvisionSubmission","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""}]}} />


### `OrderAmendment`
<ProtoMessage key={2} message={{"name":"OrderAmendment","longName":"OrderAmendment","fullName":"vega.commands.v1.OrderAmendment","description":"An order amendment is a request to amend or update an existing order on Vega","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"order_id","description":"Order identifier, this is required to find the order and will not be updated, required field","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","options":{"validator.field":[{"name":"string_not_empty","value":true}]}},{"name":"market_id","description":"Market identifier, this is required to find the order and will not be updated","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"price","description":"Amend the price for the order, if the Price value is set, otherwise price will remain unchanged - See [`Price`](#vega.Price)","label":"","type":"Price","longType":"vega.Price","fullType":"vega.Price","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/vega/vega.proto#price"},{"name":"size_delta","description":"Amend the size for the order by the delta specified:\n- To reduce the size from the current value set a negative integer value\n- To increase the size from the current value, set a positive integer value\n- To leave the size unchanged set a value of zero","label":"","type":"int64","longType":"int64","fullType":"int64","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"expires_at","description":"Amend the expiry time for the order, if the Timestamp value is set, otherwise expiry time will remain unchanged\n- See [`VegaTimeResponse`](#api.VegaTimeResponse).`timestamp`","label":"","type":"Timestamp","longType":"vega.Timestamp","fullType":"vega.Timestamp","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/vega/vega.proto#timestamp"},{"name":"time_in_force","description":"Amend the time in force for the order, set to TIME_IN_FORCE_UNSPECIFIED to remain unchanged\n- See [`TimeInForce`](#api.VegaTimeResponse).`timestamp`","label":"","type":"TimeInForce","longType":"vega.Order.TimeInForce","fullType":"vega.Order.TimeInForce","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/vega/vega.proto#ordertimeinforce"},{"name":"pegged_offset","description":"Amend the pegged order offset for the order","label":"","type":"Int64Value","longType":"google.protobuf.Int64Value","fullType":"google.protobuf.Int64Value","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"pegged_reference","description":"Amend the pegged order reference for the order\n- See [`PeggedReference`](#vega.PeggedReference)","label":"","type":"PeggedReference","longType":"vega.PeggedReference","fullType":"vega.PeggedReference","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/vega/vega.proto#peggedreference"}]}} />


### `OrderCancellation`
<ProtoMessage key={3} message={{"name":"OrderCancellation","longName":"OrderCancellation","fullName":"vega.commands.v1.OrderCancellation","description":"An order cancellation is a request to cancel an existing order on Vega","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"order_id","description":"Unique identifier for the order (set by the system after consensus), required field","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"market_id","description":"Market identifier for the order, required field","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""}]}} />


### `OrderSubmission`
<ProtoMessage key={4} message={{"name":"OrderSubmission","longName":"OrderSubmission","fullName":"vega.commands.v1.OrderSubmission","description":"An order submission is a request to submit or create a new order on Vega","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"market_id","description":"Market identifier for the order, required field","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","options":{"validator.field":[{"name":"string_not_empty","value":true}]}},{"name":"price","description":"Price for the order, the price is an integer, for example `123456` is a correctly\nformatted price of `1.23456` assuming market configured to 5 decimal places,\n, required field for limit orders, however it is not required for market orders","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"size","description":"Size for the order, for example, in a futures market the size equals the number of contracts, cannot be negative","label":"","type":"uint64","longType":"uint64","fullType":"uint64","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","options":{"validator.field":[{"name":"int_gt","value":0}]}},{"name":"side","description":"Side for the order, e.g. SIDE_BUY or SIDE_SELL, required field - See [`Side`](#vega.Side)","label":"","type":"Side","longType":"vega.Side","fullType":"vega.Side","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/vega/vega.proto#side"},{"name":"time_in_force","description":"Time in force indicates how long an order will remain active before it is executed or expires, required field\n- See [`Order.TimeInForce`](#vega.Order.TimeInForce)","label":"","type":"TimeInForce","longType":"vega.Order.TimeInForce","fullType":"vega.Order.TimeInForce","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/vega/vega.proto#ordertimeinforce"},{"name":"expires_at","description":"Timestamp for when the order will expire, in nanoseconds since the epoch,\nrequired field only for [`Order.TimeInForce`](#vega.Order.TimeInForce)`.TIME_IN_FORCE_GTT`\n- See [`VegaTimeResponse`](#api.VegaTimeResponse).`timestamp`","label":"","type":"int64","longType":"int64","fullType":"int64","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"type","description":"Type for the order, required field - See [`Order.Type`](#vega.Order.Type)","label":"","type":"Type","longType":"vega.Order.Type","fullType":"vega.Order.Type","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/vega/vega.proto#ordertype"},{"name":"reference","description":"Reference given for the order, this is typically used to retrieve an order submitted through consensus, currently\nset internally by the node to return a unique reference identifier for the order submission","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"pegged_order","description":"Used to specify the details for a pegged order\n- See [`PeggedOrder`](#vega.PeggedOrder)","label":"","type":"PeggedOrder","longType":"vega.PeggedOrder","fullType":"vega.PeggedOrder","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/vega/vega.proto#peggedorder"}]}} />


### `ProposalSubmission`
<ProtoMessage key={5} message={{"name":"ProposalSubmission","longName":"ProposalSubmission","fullName":"vega.commands.v1.ProposalSubmission","description":"A command to submit a new proposal for the\nvega network governance","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"reference","description":"Proposal reference","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"terms","description":"Proposal configuration and the actual change that is meant to be executed when proposal is enacted","label":"","type":"ProposalTerms","longType":"vega.ProposalTerms","fullType":"vega.ProposalTerms","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","options":{"validator.field":[{"name":"msg_exists","value":true}]},"typeLink":"/protodocs/vega/governance.proto#proposalterms"}]}} />


### `RestoreSnapshot`
<ProtoMessage key={6} message={{"name":"RestoreSnapshot","longName":"RestoreSnapshot","fullName":"vega.commands.v1.RestoreSnapshot","description":"A command that loads the state from a given checkpoint","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"data","description":"","label":"","type":"bytes","longType":"bytes","fullType":"bytes","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""}]}} />


### `UndelegateSubmission`
<ProtoMessage key={7} message={{"name":"UndelegateSubmission","longName":"UndelegateSubmission","fullName":"vega.commands.v1.UndelegateSubmission","description":"","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"node_id","description":"","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","options":{"validator.field":[{"name":"string_not_empty","value":true}]}},{"name":"amount","description":"optional, if not specified = ALL","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"method","description":"","label":"","type":"Method","longType":"UndelegateSubmission.Method","fullType":"vega.commands.v1.UndelegateSubmission.Method","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/vega/commands/v1/commands.proto#undelegatesubmissionmethod"}]}} />


### `VoteSubmission`
<ProtoMessage key={8} message={{"name":"VoteSubmission","longName":"VoteSubmission","fullName":"vega.commands.v1.VoteSubmission","description":"A command to submit a new vote for a governance\nproposal.","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"proposal_id","description":"The ID of the proposal to vote for.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","options":{"validator.field":[{"name":"string_not_empty","value":true}]}},{"name":"value","description":"The actual value of the vote","label":"","type":"Value","longType":"vega.Vote.Value","fullType":"vega.Vote.Value","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/vega/governance.proto#votevalue"}]}} />


### `WithdrawSubmission`
<ProtoMessage key={9} message={{"name":"WithdrawSubmission","longName":"WithdrawSubmission","fullName":"vega.commands.v1.WithdrawSubmission","description":"Represents the submission request to withdraw funds for a party on Vega","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"amount","description":"The amount to be withdrawn","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"asset","description":"The asset we want to withdraw","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"ext","description":"Foreign chain specifics","label":"","type":"WithdrawExt","longType":"vega.WithdrawExt","fullType":"vega.WithdrawExt","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/vega/vega.proto#withdrawext"}]}} />

---
## Enums


### `UndelegateSubmission.Method`
<ProtoEnum key={0} enumb={{"name":"Method","longName":"UndelegateSubmission.Method","fullName":"vega.commands.v1.UndelegateSubmission.Method","description":"","values":[{"name":"METHOD_UNSPECIFIED","number":"0","description":""},{"name":"METHOD_NOW","number":"1","description":""},{"name":"METHOD_AT_END_OF_EPOCH","number":"2","description":""},{"name":"METHOD_IN_ANGER","number":"3","description":""}]}} />

---


  